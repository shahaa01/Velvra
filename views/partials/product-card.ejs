<% if (locals.loading) { %>
    <!-- Skeleton Loader -->
    <div class="skeleton-card animate-pulse">
        <div class="relative aspect-[3/4] bg-gray-200 skeleton rounded-lg mb-4"></div>
        <div class="space-y-2">
            <div class="h-4 bg-gray-200 skeleton rounded w-3/4"></div>
            <div class="h-3 bg-gray-200 skeleton rounded w-1/2"></div>
            <div class="h-4 bg-gray-200 skeleton rounded w-1/3"></div>
        </div>
    </div>
<% } else { %>
    <!-- Product Card -->
    <article class="group cursor-pointer">
        <div class="relative aspect-[3/4] overflow-hidden rounded-lg bg-gray-100 mb-4">
            <!-- Product Image -->
            <img src="https://images.unsplash.com/photo-<%= ['1594938298603-c9c3e32de98b', '1620799140473-aba3c98d8970', '1613977257365-4b5be3df9bc0', '1594938291221-a4e27a0b94e2'][locals.id % 4] %>?w=400&h=600&fit=crop" 
                 alt="Premium Leather Jacket" 
                 class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
            
            <!-- Quick View Overlay -->
            <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300">
                <button class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-6 py-2 bg-white text-black text-sm font-light tracking-wider opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:scale-100 scale-95">
                    QUICK VIEW
                </button>
            </div>
            
            <!-- Wishlist Button -->
            <button class="absolute top-4 right-4 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-white hover:scale-110">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                </svg>
            </button>

            <!-- Sale Badge -->
            <% if (locals.id % 3 === 0) { %>
                <div class="absolute top-4 left-4 px-3 py-1 bg-red-600 text-white text-xs font-medium tracking-wider">
                    -30%
                </div>
            <% } %>

            <!-- Rating & Sold -->
            <div class="absolute bottom-4 left-4 flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-all duration-300">
                <div class="flex items-center gap-1 px-2 py-1 bg-white/90 backdrop-blur-sm rounded-full">
                    <svg class="w-4 h-4 text-yellow-500 fill-current" viewBox="0 0 20 20">
                        <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
                    </svg>
                    <span class="text-xs font-medium">4.8</span>
                </div>
                <div class="px-2 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium">
                    2.3k sold
                </div>
            </div>
        </div>

        <!-- Product Info -->
        <div class="space-y-2">
            <!-- Brand -->
            <p class="text-xs uppercase tracking-wider text-gray-500">PREMIUM COLLECTION</p>
            
            <!-- Title -->
            <h3 class="font-medium text-gray-900 group-hover:text-gray-700 transition-colors line-clamp-1">
                Italian Leather Biker Jacket
            </h3>
            
            <!-- Price -->
            <div class="flex items-center gap-2">
                <span class="text-lg font-medium">$899</span>
                <% if (locals.id % 3 === 0) { %>
                    <span class="text-sm text-gray-500 line-through">$1,299</span>
                <% } %>
            </div>
            
            <!-- Color Swatches -->
            <div class="flex items-center gap-2 pt-2">
                <button class="w-6 h-6 rounded-full bg-black border-2 border-gray-300 hover:border-gray-400 transition-colors"></button>
                <button class="w-6 h-6 rounded-full bg-amber-800 border-2 border-gray-300 hover:border-gray-400 transition-colors"></button>
                <button class="w-6 h-6 rounded-full bg-stone-500 border-2 border-gray-300 hover:border-gray-400 transition-colors"></button>
                <span class="text-xs text-gray-500">+2</span>
            </div>
        </div>
    </article>
<% } %>